(()=>{var r="https://www.habblet.city/hotel",n={path:{16:"../resources/images/icon-16-grey.png",32:"../resources/images/icon-32-grey.png",48:"../resources/images/icon-48-grey.png",128:"../resources/images/icon-128-grey.png"}},c={path:{16:"../resources/images/icon-16.png",32:"../resources/images/icon-32.png",48:"../resources/images/icon-48.png",128:"../resources/images/icon-128.png"}};async function s(o,e){o==="on"?(chrome.action.enable(),await chrome.action.setIcon({tabId:e,...c}),await chrome.action.setPopup({popup:"../src/popup/popup.html"})):(chrome.action.disable(),await chrome.action.setIcon({tabId:e,...n}),await chrome.action.setPopup({popup:""}))}chrome.runtime.onInstalled.addListener(async o=>{if(o.reason==="install")try{await chrome.storage.sync.set({radioPlayerStatus:"true",radioPanelStatus:"true"})}catch(e){console.error("N\xE3o conseguiu setar o valor inicial",e)}});chrome.tabs.onActivated.addListener(async o=>{let e=await chrome.tabs.get(o.tabId);e.status==="complete"&&(e.url&&e.url.includes(r)?s("on",e.id):s("off",e.id))});chrome.tabs.onUpdated.addListener(async(o,e,a)=>{if(e.status==="complete")if(a.url&&a.url.includes(r)){s("on",o);try{await chrome.tabs.sendMessage(o,{action:"first-load-or-refresh"})}catch(t){console.error("Erro ao enviar a mensagem:",t)}}else s("off",o)});})();
